meta:
  id: "dm_graph_nodes"
  type: "DataModel"
  domain: "dom_core"
  status: "DONE"

info:
  name: "Graph Node & Edge Models"
  description: "The core data structures representing the SpecGraph in the database."

schema:
  - name: "Node"
    description: "Represents a file entity (Feature, Component, etc.)"
    fields:
      - name: "id"
        type: "string"
        pk: true
      - name: "type"
        type: "string"
      - name: "domain"
        type: "string"
      - name: "content"
        type: "json"
  
  - name: "Edge"
    description: "Represents a relationship between two nodes."
    fields:
      - name: "source_id"
        type: "string"
        fk: "Node.id"
      - name: "target_id"
        type: "string"
        fk: "Node.id"
      - name: "type"
        type: "string"

impl:
  language: "python"
  path: "devspec/engine/db_models.py"
