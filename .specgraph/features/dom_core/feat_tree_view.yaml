meta:
  id: "feat_tree_view"
  type: "Feature"
  domain: "dom_core"
  status: "DONE"
  priority: "P0"
  realized_by:
    - "comp_specgraph_engine"

intent:
  summary: "å®ç°å…¨æ™¯è§†å›¾å‘½ä»¤ (devspec tree)"
  user_story: |
    ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘å¸Œæœ›é€šè¿‡ `devspec tree` å‘½ä»¤æŸ¥çœ‹é¡¹ç›®çš„å…¨æ™¯ç»“æ„ï¼Œ
    åŒ…æ‹¬æ‰€æœ‰ Domainã€Feature åŠå…¶å®ŒæˆçŠ¶æ€ï¼Œä»¥ä¾¿éšæ—¶äº†è§£é¡¹ç›®è¿›åº¦ã€‚

contract:
  input: "CLI command: `devspec tree [--domain <domain_id>]`"
  output: |
    ASCII æ ‘å½¢ç»“æ„ï¼Œå±•ç¤ºï¼š
    - äº§å“åç§°å’Œç‰ˆæœ¬
    - å„ Domain åŠå…¶ Feature åˆ—è¡¨
    - æ¯ä¸ª Feature çš„çŠ¶æ€æ ‡è®° (âœ… DONE / ğŸš§ IN_PROGRESS / â³ PLANNED)

example_output: |
  DevSpec v0.1.0 (BOOTSTRAPPING)
  â”œâ”€â”€ dom_core (Core Engine)
  â”‚   â”œâ”€â”€ feat_specindex_sync âœ…
  â”‚   â”œâ”€â”€ feat_tree_view ğŸš§
  â”‚   â””â”€â”€ feat_code_scan â³
  â”œâ”€â”€ dom_cli (CLI & Workflow)
  â”‚   â”œâ”€â”€ feat_cli_structure âœ…
  â”‚   â””â”€â”€ feat_bootstrap âœ…
  â””â”€â”€ dom_context (Context Intelligence)
      â””â”€â”€ (empty)

workflow:
  - step: 1
    name: "Load Product"
    desc: "è¯»å– product.yaml è·å–äº§å“ä¿¡æ¯å’Œ Domain åˆ—è¡¨"

  - step: 2
    name: "Query Features"
    desc: "ä»æ•°æ®åº“æŸ¥è¯¢æ‰€æœ‰ Feature èŠ‚ç‚¹ï¼ŒæŒ‰ domain åˆ†ç»„"

  - step: 3
    name: "Build Tree"
    desc: "ä½¿ç”¨ rich.tree æ„å»º ASCII æ ‘å½¢ç»“æ„"

  - step: 4
    name: "Render Status"
    desc: "æ ¹æ® Feature.status æ¸²æŸ“çŠ¶æ€å›¾æ ‡"

dependencies:
  - "feat_specindex_sync"  # ä¾èµ–æ•°æ®åº“åŒæ­¥åŠŸèƒ½
