我需要开发一个软件工具，它是一个开发软件的规范，也是一系列的工具，强制用户遵守规范，然后利用大模型 ，类似claude code，codex，gemini cli这些大模型开发软件，使用者是超级个体，拥有产品设计，代码研发，测试三位一体的技能都超级个体。  我这个工具要协助人类把一个软件，使用AI开发时候，每次任务都是无状态的，相当于每次任务的都清空上下文，重新记载任务相关上下文和小项目的背景信息，我要求工具可以创建一个知识图谱或索引 管理整个软件的所有功能 ，管理依赖，每次AI开发完成了都必须强制更新整个项目知识图谱，进一步触发整个软件知识图谱，每个项目都有配套的产品文档，设计文档，测试案列 ，每次代码变动之前，必须文档先更新，代码变动后，相比文档复核一次，如有差异，又进行循环，知道没差异，对于每次任务，强制要求任务必须达到一定工作量才开始启动，比如修改前端的字段显示这种纯前端任务，就直接暂停。等等后续的任务工作量够了才启动。


当前我们生成的需求收集指令 devspec-collect-req  中内容是不是不太精确，首先当我们收到一个新需求后，我们应该加载需求分析原则，我这里推荐des_architecture.yaml ，然后我们再从上而下分析，看看需求涉及到哪些层面，首先分析product vision 和L 0，因此我们先加载product.yaml , 我们分析需求涉及到哪些domain ，只加载涉及的domain 信息，然后再到feature级别，加载相关feature ，这里可能不需要加载，因为是新feature，注意如果是涉及多个domain配合的，这里还要加载其他domain的API ，最后再加载相关组件 。 这个是我的新需求，为了完成这个需求，我们必须有个domain级别的信息，我这里不建议再生成一层yaml文件了，为了实现这个需求，我建议使用sqllite数据库了 ，我有个想法 ,整个产品从PRD，到各种级别的yaml文件，最后到代码 都要保存数据库中，通过图谱关系维护，当然是程序维护，而不是AI 去做，是AI通过程序 ，这个需求非常庞大，我们需要分成多步，请仔细思考，反复思考，给出详细下方案和步骤